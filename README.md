# too-many-cells-interactive
![](img/screenshot.gif)

# About The Project

too-many-cells-interactive is an interactive visualization tool allowing users to explore cell cluster trees generated by [too-many-cells](https://github.com/GregorySchwartz/too-many-cells).

This tool with its associated website is free and open to all users and there is
no login requirement.

## Publication
To get a detailed description of too-many-cells-interactive and interesting applications consider reading the [publication](https://doi.org/10.1093/gigascience/giae056), and please remember to cite.

## Documentation and Quickstart

For detailed documentation, quickstart, and tutorial, see [https://schwartzlab-methods.github.io/too-many-cells-interactive](https://schwartzlab-methods.github.io/too-many-cells-interactive).

## Node information
![](img/node_peek.gif)

## Color changing
![](img/color_selector.gif)

## Pruning
![](img/pruning.gif)

## Tree manipulation
![](img/dragging.gif)

## Branch width adjustment
![](img/branch_width.gif)

## Feature overlay
![](img/overlay.gif)

## Built With

* [D3.js](https://d3js.org/)
* [React.js](https://reactjs.org/)
* [Redux.js](https://redux.js.org/)
* [Typescript](https://www.typescriptlang.org/)
* [Styled-Components](https://styled-components.com/)
* [Node.js](https://nodejs.org/en/)
* [PostgreSQL](https://www.postgresql.org/)
* [Docker](https://www.docker.com/)

# Building the application for development

The fastest and easiest way to get started developing with too-many-cells-interactive is with Docker and Docker Compose. If you don't already have them on your system, please consult the [relevant install guides](https://docs.docker.com/get-docker/).

To build the application for development, you will need to provision the Docker containers, compile the Typescript, and mount your `cluster_tree.json` and `labels.csv` files into the node server's `static/files` directory. To do so, you may simply copy them into `<project-root>/node/static/files`, since the the [development docker-compose](docker-compose.yaml) file mounts the host's entire `node` directory into the container.
  - the Docker configuration for development can be found in [docker-compose.yaml](./docker-compose.yaml). Unlike the "production" configuration, the development setup splits the javascript code into front-end (React) and back-end (Node) containers. By default, the React application will listen on port 1212. You can change this value by creating an `.env` file and entering your own value for `REACT_PORT`. There is a sample `.env` file called `.env.sample` that can serve as a basis. Both the node and react containers are configured to recompile whenever there is a code change.
  - You need to perform the feature provisioning process just once for a given dataset. After the features are in the database and files moved into the `/node/static/files` directory, `docker-compose up` is sufficient to bring up the application. If you would like to import a new set of features, the easiest way to do so is to rerun the `start-and-load.sh` script, which will drop your previous data from the PostgreSQL database and import new data. Your dev application will use this same data the next time you bring it up with `docker-compose up`.

